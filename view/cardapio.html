<div ng-controller="CardapioCtrl as ctrl">
    <div>
        <ul class="nav nav-pills nav-justified" id="pills-tab" role="tablist">
            <li class="nav-item">
                <a class="nav-link" style="border-radius: 0px;" data-toggle="pill"
                    ng-click="ctrl.selecionarView('cardapio')">Cardapio
                    Completo</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" style="border-radius: 0px;" data-toggle="pill"
                    ng-click="ctrl.selecionarView('lanches')">Lanches</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" style="border-radius: 0px;" data-toggle="pill"
                    ng-click="ctrl.selecionarView('bebidas')">Bebidas</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" style="border-radius: 0px;" data-toggle="pill"
                    ng-click="ctrl.selecionarView('combos')">Combos</a>
            </li>
        </ul>
    </div>

    <div class="jumbotron"
        ng-show="ctrl.todasBebidas.length == 0 && ctrl.lanches.length == 0 && ctrl.combos.length == 0 && ctrl.viewSelecionado == 'cardapio'">
        <div class="alert alert-danger"> Não foi encontrado nenhum produto no cardapio!</div>
    </div>
    <div class="jumbotron" ng-show="ctrl.lanches.length == 0 && ctrl.viewSelecionado == 'lanches'">
        <div class="alert alert-danger"> Não foi encontrado nenhum lanche!</div>
    </div>
    <div class="jumbotron"
        ng-show="ctrl.lanches.length > 0 && (ctrl.viewSelecionado == 'lanches' || ctrl.viewSelecionado == 'cardapio')" id="lanches">
        <h4>Lanches</h4>
        <table class="table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Nome</th>
                    <th>Tipo</th>
                    <th>Descrição</th>
                    <th>Preço</th>
                </tr>
            </thead>

            <tbody>
                <tr ng-repeat="lanche in ctrl.lanches">
                    <td>{{lanche.id}}</td>
                    <td>{{lanche.nome}}</td>
                    <td>{{lanche.tipoProduto}}</td>
                    <td>{{lanche.descricao}}</td>
                    <td>{{lanche.preco | currency: 'R$'}}</td>
                    <td>
                        <center><button type="button" class="btn btn-primary btn-sm" data-toggle="modal"
                                data-target="#modalIngredientesLanche"
                                ng-click="ctrl.carregarFazerProduto(lanche.id)">Ingredientes</button></center>
                    </td>
                    <div class="modal fade" id="modalIngredientesLanche" tabindex="-1" role="dialog"
                        aria-labelledby="modalLabelIngredientesLanche" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="modalLabelIngredientesLanche">Ingredientes</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body" ng-repeat="ingrediente in ctrl.fazerProduto">
                                    <div>
                                        <span class="badge badge-primary">Id: {{ingrediente.ingrediente.id}}</span>
                                        <span class="badge badge-success">Ingrediente:
                                            {{ingrediente.ingrediente.nome}}</span>
                                        <span class="badge badge-danger">Quantidade Utilizada:
                                            {{ingrediente.quantidadeFazer}}</span>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="jumbotron"
        ng-show="ctrl.todasBebidas.length == 0 && ctrl.viewSelecionado == 'bebidas'">
        <div class="alert alert-danger"> Não foi encontrado nenhuma bebida!</div>
    </div>
    <div class="jumbotron"
        ng-show="(ctrl.todasBebidas.length > 0) && (ctrl.viewSelecionado == 'bebidas' || ctrl.viewSelecionado == 'cardapio')"
        id="todasBebidas">
        <h4>Bebidas</h4>
        <table class="table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Nome</th>
                    <th>Tipo</th>
                    <th>Descrição</th>
                    <th>Preço</th>
                </tr>
            </thead>
            <tbody ng-repeat="bebidas in ctrl.todasBebidas">
                <tr ng-repeat="bebida in bebidas">
                    <td>{{bebida.id}}</td>
                    <td>{{bebida.nome}}</td>
                    <td>{{bebida.tipoProduto}}</td>
                    <td>{{bebida.descricao}}</td>
                    <td>{{bebida.preco | currency: 'R$'}}</td>
                    <td>
                        <center><span ng-show="bebida.ingredienteList == null" class="badge badge-danger">1
                                Unidade</span>

                            <button ng-show="bebida.ingredienteList != null" type="button"
                                class="btn btn-primary btn-sm" data-toggle="modal"
                                data-target="#modalIngredientesBebida"
                                ng-click="ctrl.carregarFazerProduto(bebida.id)">Ingredientes</button></center>
                    </td>
                    <div class="modal fade" id="modalIngredientesBebida" tabindex="-1" role="dialog"
                        aria-labelledby="modalLabelIngredientesBebida" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="modalLabelIngredientesBebida">Ingredientes</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body" ng-repeat="ingrediente in ctrl.fazerProduto">
                                    <div>
                                        <span class="badge badge-primary">Id: {{ingrediente.ingrediente.id}}</span>
                                        <span class="badge badge-success">Ingrediente:
                                            {{ingrediente.ingrediente.nome}}</span>
                                        <span class="badge badge-danger">Quantidade Utilizada:
                                            {{ingrediente.quantidadeFazer}}</span>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="jumbotron" ng-show="ctrl.combos.length == 0 && ctrl.viewSelecionado == 'combos'">
        <div class="alert alert-danger"> Não foi encontrado nenhum combo!</div>
    </div>
    <div class="jumbotron" ng-show="ctrl.combos.length > 0 && (ctrl.viewSelecionado == 'combos' || ctrl.viewSelecionado == 'cardapio')"
        id="combos">
        <h4>Combos</h4>
        <table class="table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Nome</th>
                    <th>Tipo</th>
                    <th>Descrição</th>
                    <th>Preço</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="combo in ctrl.combos">
                    <td>{{combo.id}}</td>
                    <td>{{combo.nome}}</td>
                    <td>{{combo.tipoProduto}}</td>
                    <td>{{combo.descricao}}</td>
                    <td>{{combo.preco | currency: 'R$'}}</td>
                    <td>
                        <center><button type="button" class="btn btn-primary btn-sm" data-toggle="modal"
                                data-target="#modalProdutosCombo"
                                ng-click="ctrl.viewProdutosCombo(combo.id)">Produtos</button></center>
                    </td>
                    <div class="modal fade" id="modalProdutosCombo" tabindex="-1" role="dialog"
                        aria-labelledby="modalLabelProdutosCombo" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="modalLabelProdutosCombo">Produtos</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body" ng-repeat="combo in ctrl.combos">
                                    <div ng-show="combo.id == ctrl.viewProdutos" ng-repeat="produto in combo.produtoList">
                                        <span class="badge badge-primary">Id: {{produto.id}}</span>
                                        <span class="badge badge-success">Produto:
                                            {{produto.nome}}</span>
                                        <span class="badge badge-danger">Quantidade Utilizada:
                                            1</span>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </tr>
            </tbody>
        </table>
    </div>
</div>